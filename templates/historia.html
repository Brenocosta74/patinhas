<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="styles.css">
  <title>Hist√≥rias de Ado√ß√£o - Patinhas &amp; Cia</title>
  <meta name="description" content="Compartilhe hist√≥rias de ado√ß√£o de c√£es e inspire outras pessoas." />
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-sA+e2T0vY7k7gq0XkYh0y5b2w6YbY1bYk2Jg2qj0Q4c=" crossorigin=""/>
  <style>
    html {
      height: 100%;
      background: linear-gradient(180deg, var(--mint), #ffffff 40%);
    }

    body {
      min-height: 100%;
      margin: 0;
      color: var(--dark);
      line-height: 1.5;
      background: transparent;
    }

    /* Estilo adicional para o formul√°rio */
    form {
      margin-top: 20px;
      max-width: 600px;
    }

    form input, form textarea, form button {
      width: 100%;
      padding: 8px;
      margin-bottom: 12px;
      border-radius: 8px;
      border: 1px solid #ccc;
    }

    /* Estilo para as hist√≥rias enviadas */
    #listaHistorias {
      margin-top: 40px;
      display: grid;
      gap: 24px;
      max-width: 700px;
    }

    .card {
      background-color: #f9f9f9;
      padding: 16px;
      border-radius: 12px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      position: relative;
    }

    .muted {
      color: #888;
    }

    .btn {
      background-color: #007BFF;
      color: white;
      border: none;
      padding: 10px;
      border-radius: 5px;
      cursor: pointer;
    }

    .btn:hover {
      background-color: #0056b3;
    }

    /* Estilo para o bot√£o de excluir */
    .btn-delete {
      background-color: #FF6347;
      color: white;
      border: none;
      padding: 6px 12px;
      border-radius: 5px;
      position: absolute;
      top: 10px;
      right: 10px;
      cursor: pointer;
    }

    .btn-delete:hover {
      background-color: #e53e3e;
    }
  </style>
</head>
<body>

  <header class="container">
    <div class="brand">
      <div class="logo">üêæ</div>
      <div>
        <strong>Patinhas &amp; Cia</strong><br/>
        <small class="muted">Cuidar √© um ato de amor</small>
      </div>
    </div>
    <nav>
      <a href="index.html#guias">Guias</a>
      <a href="index.html#adocao">Ado√ß√£o</a>
      <a href="historias.html">Comunidade</a>
      <a href="index.html#contato">Contato</a>
    </nav>
  </header>

  <main class="container" style="padding-top:70px;">
    <section id="historias-adocao" style="margin-top:22px;">
      <h2>Hist√≥rias de Ado√ß√£o</h2>
      <p class="muted">Compartilhe sua hist√≥ria para inspirar outras pessoas.</p>

      <!-- Formul√°rio para enviar nova hist√≥ria -->
      <form id="formHistoria">
        <label for="nomeAutor">Seu nome:</label><br/>
        <input type="text" id="nomeAutor" name="nomeAutor" required />

        <label for="nomePet">Nome do cachorro:</label><br/>
        <input type="text" id="nomePet" name="nomePet" required />

        <label for="textoHistoria">Conte sua hist√≥ria:</label><br/>
        <textarea id="textoHistoria" name="textoHistoria" rows="6" required></textarea>

        <button type="submit" class="btn">Enviar hist√≥ria</button>
      </form>

      <!-- √Årea onde as hist√≥rias enviadas aparecer√£o -->
      <div id="listaHistorias">
        <!-- Hist√≥rias adicionadas via JS v√£o aparecer aqui -->
      </div>
    </section>
  </main>

  <footer class="container">
    <div style="display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap">
      <div class="muted">¬© Patinhas &amp; Cia ‚Äî Feito por volunt√°rios</div>
      <div class="muted">Cr√©ditos: Ilustra√ß√µes Freepik ‚Ä¢ Fotos: parceiros</div>
    </div>
  </footer>

  <script>
    const form = document.getElementById('formHistoria');
    const listaHistorias = document.getElementById('listaHistorias');

    form.addEventListener('submit', (e) => {
      e.preventDefault();

      const nomeAutor = form.nomeAutor.value.trim();
      const nomePet = form.nomePet.value.trim();
      const textoHistoria = form.textoHistoria.value.trim();

      if (!nomeAutor || !nomePet || !textoHistoria) {
        alert('Por favor, preencha todos os campos obrigat√≥rios.');
        return;
      }

      // Criar a nova hist√≥ria HTML
      const historiaHTML = `
        <article class="card">
          <h3>${nomePet} ‚Äî adotado por ${nomeAutor}</h3>
          <p>${textoHistoria.replace(/\n/g, '<br/>')}</p>
          <button class="btn-delete">Excluir</button>
        </article>
      `;

      listaHistorias.insertAdjacentHTML('beforeend', historiaHTML);

      // Limpar o formul√°rio
      form.reset();

      // Opcional: rolar at√© a nova hist√≥ria
      listaHistorias.lastElementChild.scrollIntoView({ behavior: 'smooth' });

      // Adicionar a funcionalidade de exclus√£o
      const excluirButtons = document.querySelectorAll('.btn-delete');
      excluirButtons.forEach(button => {
        button.addEventListener('click', (e) => {
          const historiaCard = e.target.closest('.card');
          historiaCard.remove();
        });
      });
    });

  </script>

</body>
</html>
